<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>基于DRL和TORCS的自动驾驶仿真系统——之环境配置  &middot; Well</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="玩TORCS和DRL差不多有一整年了，开始的摸爬滚打都是不断碰壁过来的，近来在参与[CMU的DRL10703课程](https://katefvision.github.io/)学习和翻译志愿者工作，也将自己以前的一些工作做一些备忘，以作为有兴趣同学的参考。" />

<meta name="keywords" content="自动驾驶, ">


<meta property="og:title" content="基于DRL和TORCS的自动驾驶仿真系统——之环境配置  &middot; Well ">
<meta property="og:site_name" content="Well"/>
<meta property="og:url" content="https://tmhm.github.io/2017/02/08/auto-driving-simulation-based-on-drltorcs_configuration/" />
<meta property="og:locale" content="en-EN">


<meta property="og:type" content="article" />
<meta property="og:description" content="玩TORCS和DRL差不多有一整年了，开始的摸爬滚打都是不断碰壁过来的，近来在参与[CMU的DRL10703课程](https://katefvision.github.io/)学习和翻译志愿者工作，也将自己以前的一些工作做一些备忘，以作为有兴趣同学的参考。"/>
<meta property="og:article:published_time" content="2017-02-08T09:13:00Z" />
<meta property="og:article:modified_time" content="2017-02-08T09:13:00Z" />

  
    
<meta property="og:article:tag" content="自动驾驶">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="基于DRL和TORCS的自动驾驶仿真系统——之环境配置" />
<meta name="twitter:description" content="玩TORCS和DRL差不多有一整年了，开始的摸爬滚打都是不断碰壁过来的，近来在参与[CMU的DRL10703课程](https://katefvision.github.io/)学习和翻译志愿者工作，也将自己以前的一些工作做一些备忘，以作为有兴趣同学的参考。" />
<meta name="twitter:url" content="https://tmhm.github.io/2017/02/08/auto-driving-simulation-based-on-drltorcs_configuration/" />
<meta name="twitter:domain" content="https://tmhm.github.io/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "基于DRL和TORCS的自动驾驶仿真系统——之环境配置",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2017-02-08",
    "description": "玩TORCS和DRL差不多有一整年了，开始的摸爬滚打都是不断碰壁过来的，近来在参与[CMU的DRL10703课程](https:\/\/katefvision.github.io\/)学习和翻译志愿者工作，也将自己以前的一些工作做一些备忘，以作为有兴趣同学的参考。",
    "wordCount":  98 
  }
</script>



<link rel="canonical" href="https://tmhm.github.io/2017/02/08/auto-driving-simulation-based-on-drltorcs_configuration/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://tmhm.github.io/v2.png">
<link href="https://tmhm.github.io/v2.png" rel="icon">

<meta name="generator" content="Hugo 0.15" />

  
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://tmhm.github.io/css/font-awesome.min.css">
<link rel="stylesheet" href="https://tmhm.github.io/css/style.css">
<link rel="stylesheet" href="https://tmhm.github.io/css/highlight/default.css">

  
  
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'Your Google Analytics tracking code', 'auto');
	  ga('send', 'pageview');

	</script>

  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
  </script>
</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://tmhm.github.io/">
  芝麻无花

</a>

</div>

  
<div class="container topline">
  
  修行在当下


</div>


</div>

  <nav class="container nav primary no-print">
  

<a class="homelink" href="https://tmhm.github.io/">home</a>


  
<a href="https://tmhm.github.io/about">About</a>

<a href="https://tmhm.github.io/categories" title="Show list of categories">Categories</a>

<a href="https://tmhm.github.io/post" title="Show list of posts">Posts</a>

<a href="https://tmhm.github.io/tags" title="show list of tags">Tags</a>


</nav>

<div class="container nav secondary no-print">
  
<a id="contact-link-email" class="contact_link" href="mailto:wells217@163.com">
  <span class="fa fa-envelope-square"></span><span>email</span></a>



<a id="contact-link-github" class="contact_link" href="https://github.com/tmhm">
  <span class="fa fa-github-square"></span><span>github</span></a>























</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>基于DRL和TORCS的自动驾驶仿真系统——之环境配置
</h1>

  <div class="metas">
<time datetime="2017-02-08">8 Feb, 2017</time>


  
  &middot; Read in about 1 min
  &middot; (98 Words)
  <br>
  
<a class="label" href="https://tmhm.github.io/tags/%E8%87%AA%E5%8A%A8%E9%A9%BE%E9%A9%B6">自动驾驶</a>



<span id="busuanzi_container_page_pv">
  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
</span>
</div>

  <br/>
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="https://tmhm.github.io/2016/12/25/logging-%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8/" title="Python 中logging 模块的配置和使用">
      Previous
    </a>
    

    
    <a class="next" href="https://tmhm.github.io/2017/02/13/win10%E7%A6%81%E7%94%A8%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E6%9C%8D%E5%8A%A1/" title="win10禁用自动更新服务">
      Next
    </a>
    

  


</div>

</header>

  <div class="container content">
  

<p><em>玩TORCS和DRL差不多有一整年了，开始的摸爬滚打都是不断碰壁过来的，近来在参与<a href="https://katefvision.github.io/">CMU的DRL10703课程</a>学习和翻译志愿者工作，也将自己以前的一些工作做一些备忘，以作为有兴趣同学的参考。</em></p>

<h3 id="torcs仿真器平台安装">TORCS仿真器平台安装</h3>

<p>仿真器平台主要包括两步：安装TORCS，然后添加锦标赛用的patch。</p>

<h4 id="torcs仿真器的安装">TORCS仿真器的安装</h4>

<p>The open racing car simulator（TORCS）<a href="http://torcs.sourceforge.net/">主页</a></p>

<p>仿真器源文件<a href="https://sourceforge.net/projects/torcs/files/all-in-one/">下载地址</a></p>

<p>支持windows和linux，windows下面的安装有集成的安装源文件包；linux系统下则需要自己编译安装一些依赖库，否则在下一步打patch的时候不成功，原因是linux的包是编译后的文件，不包括源文件，windows无此问题。</p>

<p>示例是在win-64bits系统下安装torcs-1.3.4。</p>

<p>跟普通应用安装类似，安装后，可在桌面创建快捷方式 。
打开安装好的TORCS，如下图所示。
<img src="http://i.imgur.com/kJvZTvr.png" alt="" /></p>

<p>某些简单问题，在这里可能可以找到答案：
<a href="http://torcs.sourceforge.net/index.php?name=Sections&amp;op=viewarticle&amp;artid=30">http://torcs.sourceforge.net/index.php?name=Sections&amp;op=viewarticle&amp;artid=30</a></p>

<p>简单配置How-to教程可参考（开始使用默认配置即可）：
<a href="http://torcs.sourceforge.net/index.php?name=Sections&amp;op=listarticles&amp;secid=4">http://torcs.sourceforge.net/index.php?name=Sections&amp;op=listarticles&amp;secid=4</a></p>

<p>如何在仿真器上一步步实现一个简单ROBOT，教程可见：
<a href="http://www.berniw.org/tutorials/robot/">http://www.berniw.org/tutorials/robot/</a></p>

<h4 id="championship-platform的安装">Championship Platform的安装</h4>

<p>为扩展仿真器平台用于我们的智能驾驶AI程序的开发，我们采用的是锦标赛平台的接口。在安装torcs之后，可以直接安装patch。实现安装源文件下载地址：
<a href="https://sourceforge.net/projects/cig/files/SCR%20Championship/">https://sourceforge.net/projects/cig/files/SCR%20Championship/</a></p>

<p>示例安装的是windows server patch2.0. 文件链接：
<a href="https://sourceforge.net/projects/cig/files/SCR%20Championship/Server%20Windows/2.0/">https://sourceforge.net/projects/cig/files/SCR%20Championship/Server%20Windows/2.0/</a></p>

<p>解压下载的patch.zip覆盖上一步安装torcs的安装文件，即可搭建一个服务器端。
 <img src="http://i.imgur.com/Cx5dk9y.png" alt="" />
上图中的wtorcs.exe即平台的入口地址。可将其快捷方式发送到桌面。打开该程序，现在可以配置我们的drivers。</p>

<p>路径是： Race &ndash;&gt; Quick Race/ Practice &ndash;&gt; Configure Race &ndash;&gt; Select Track (Accept)&ndash;&gt; Select Drivers (如1，用上下方向键选择scr…，然后点击select(选择和删除是同一按钮)，最后Accept即可)，如下图所示。
然后accept， New Race 即可以进入仿真器。
 <img src="http://i.imgur.com/JQwQQXD.png" alt="" /></p>

<p>我们的程序即可以通过scr车手来模拟控制，一些有用的配置可以参考。
Manual的官方文件: <a href="http://arxiv.org/abs/1304.1672">http://arxiv.org/abs/1304.1672</a></p>

<p>若有墙，可参考：
<a href="https://www.yumpu.com/en/document/view/48269886/simulated-car-racing-championship-competition-software-manual">https://www.yumpu.com/en/document/view/48269886/simulated-car-racing-championship-competition-software-manual</a></p>

<p>至此，TORCS仿真器平台安装完毕，下面搭建配套的软件IDE环境。</p>

<h3 id="软件ide环境搭建">软件IDE环境搭建</h3>

<h4 id="anaconda-的安装">Anaconda 的安装</h4>

<p>Anaconda 是一个开源的，基于python的跨平台（windows，osx，liunx）科学计算平台，支持python2和python3，示例用的是基于python2的anaconda2-4.0.0</p>

<p>安装后，会创建一个Anaconda Prompt（一个类似DOS的命令行窗口），它可以像linux一样来通过命令管理各种科学计算包，执行命令等。
比如可以用conda ，pip等工具管理包</p>

<h4 id="pybrain的安装">PyBrain的安装</h4>

<p>Pybrain是一个基于python的机器学习模块，对强化学习的支持比较好，2015年底的时候，还只有很少的模块是专门做强化学习的，Pybrain就是定位在强化学习和神经网络，由于是个人的项目，维护更新比较慢，目前使用的是0.33版本。</p>

<p>在已安装的系统上运行<strong>conda install pybrain</strong>会显示是否已安装。</p>

<p>由于使用的台式机已经安装pybrain 0.33，故用笔记本示意安装过程，如下图所示.
<img src="http://i.imgur.com/D651H7i.png" alt="" /></p>

<p><img src="http://i.imgur.com/MHxTMPH.png" alt="" /></p>

<p><img src="http://i.imgur.com/eZVuF0d.png" alt="" /></p>

<p>主要命令包括（字母均为小些形式）：</p>

<pre><code>    1.      conda install pybrain
    2.      anaconda search -t conda pybrain
    3.      conda install -c https://conda.anaconda.org/mq pybrain
</code></pre>

<p><em>Note： mq 是指包的发布者</em></p>

<h4 id="pycharm-的安装">PyCharm 的安装</h4>

<p>尽管Anaconda包含了一个Spyder 的IDE，个人感觉不太友好，故还是额外安装<a href="https://www.jetbrains.com/pycharm/download/#section=windows">PyCharm</a>。PyCharm是JetBrains公司推出的一套基于python的跨平台工具。包含免费的社区版和收费的专业版，示例的是专业版，由于近期修改系统时间的漏洞已经修护（貌似最多就一年有效），建议直接安装社区版即可。与TORCS的接口程序在下一篇代码部分给出。</p>

</div>


  <footer class="container">
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="https://tmhm.github.io/2016/12/25/logging-%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8/" title="Python 中logging 模块的配置和使用">
      Previous
    </a>
    

    
    <a class="next" href="https://tmhm.github.io/2017/02/13/win10%E7%A6%81%E7%94%A8%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E6%9C%8D%E5%8A%A1/" title="win10禁用自动更新服务">
      Next
    </a>
    

  


</div>

  <div class="container comments">
  <h2>Comments</h2>
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//wells217-github-io.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  
<a href="https://tmhm.github.io/license">license</a>


  
<script src="/js/jquery.min.js" type="text/javascript"></script>
<script>
        $(window).on("scroll",function(e){
        if($('body').scrollTop() >= 200  ){
                $('#gotop').show();


        }else{
                $('#gotop').hide();
        }
});
</script>
<div class="ctrolPanel" id="gotop" style="display:none;width:50px;height:50px;position:fixed;right:25px;top:85%;overflow:hidden;z-index:10000;">
  <a href="#"><img title="back to top" src="/top2.png" /></a>
</div>

</div>

  <div class="container credits">
  
<div class="container footline">
  
  code with <i class='fa fa-heart'></i>


</div>


  
<div class="container copyright">
  
  &copy; 2017 Well.

 &nbsp; &nbsp;
</div>


</div>

</footer>
<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


    </main>
    
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//wells217-github-io.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="https://tmhm.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


    
  </body>
</html>

