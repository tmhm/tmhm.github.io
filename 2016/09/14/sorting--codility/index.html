<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>sorting--codility  &middot; Well</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="排序刷题" />

<meta name="keywords" content="">


<meta property="og:title" content="sorting--codility  &middot; Well ">
<meta property="og:site_name" content="Well"/>
<meta property="og:url" content="https://tmhm.github.io/2016/09/14/sorting--codility/" />
<meta property="og:locale" content="en-EN">


<meta property="og:type" content="article" />
<meta property="og:description" content="排序刷题"/>
<meta property="og:article:published_time" content="2016-09-14T09:36:00Z" />
<meta property="og:article:modified_time" content="2016-09-14T09:36:00Z" />

  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="sorting--codility" />
<meta name="twitter:description" content="排序刷题" />
<meta name="twitter:url" content="https://tmhm.github.io/2016/09/14/sorting--codility/" />
<meta name="twitter:domain" content="https://tmhm.github.io/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "sorting--codility",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2016-09-14",
    "description": "排序刷题",
    "wordCount":  861 
  }
</script>



<link rel="canonical" href="https://tmhm.github.io/2016/09/14/sorting--codility/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://tmhm.github.io/v2.png">
<link href="https://tmhm.github.io/v2.png" rel="icon">

<meta name="generator" content="Hugo 0.15" />

  
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://tmhm.github.io/css/font-awesome.min.css">
<link rel="stylesheet" href="https://tmhm.github.io/css/style.css">
<link rel="stylesheet" href="https://tmhm.github.io/css/highlight/default.css">

  
  
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'Your Google Analytics tracking code', 'auto');
	  ga('send', 'pageview');

	</script>

  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
  </script>
</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="https://tmhm.github.io/">
  芝麻无花

</a>

</div>

  
<div class="container topline">
  
  致成长之旅，风景无限


</div>


</div>

  <nav class="container nav primary no-print">
  

<a class="homelink" href="https://tmhm.github.io/">home</a>


  
<a href="https://tmhm.github.io/about">About</a>

<a href="https://tmhm.github.io/categories" title="Show list of categories">Categories</a>

<a href="https://tmhm.github.io/post" title="Show list of posts">Posts</a>

<a href="https://tmhm.github.io/tags" title="show list of tags">Tags</a>


</nav>

<div class="container nav secondary no-print">
  
<a id="contact-link-email" class="contact_link" href="mailto:wells217@163.com">
  <span class="fa fa-envelope-square"></span><span>email</span></a>



<a id="contact-link-github" class="contact_link" href="https://github.com/tmhm">
  <span class="fa fa-github-square"></span><span>github</span></a>























</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>sorting--codility
</h1>

  <div class="metas">
<time datetime="2016-09-14">14 Sep, 2016</time>


  
  &middot; Read in about 5 min
  &middot; (861 Words)
  <br>
  


<span id="busuanzi_container_page_pv">
  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
</span>
</div>

  <br/>
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="https://tmhm.github.io/2016/09/04/prefix-sums--codility/" title="prefix sums--codility">
      Previous
    </a>
    

    
    <a class="next" href="https://tmhm.github.io/2016/09/17/stacks-and-queues--codility/" title="stacks and queues--codility">
      Next
    </a>
    

  


</div>

</header>

  <div class="container content">
  

<ul>
<li><p><a href="#1.6.1">1. Distinct</a></p></li>

<li><p><a href="#1.6.2">2. Triangle</a></p></li>

<li><p><a href="#1.6.3">2. MaxProductOfThree</a></p></li>

<li><p><a href="#1.6.4">4. NumberOfDiscIntersections</a></p></li>
</ul>

<h3 id = "1.6">
lesson 6: <i>sorting</i>
</h3>

<h4 id="exercise:7cad0631f6a7aabc2988c4789e25cd49">exercise</h4>

<p><strong>Problem:</strong></p>

<p>You are given a zero-indexed array A consisting of n &gt; 0 integers; you must return the number of unique values in array A.</p>

<p><strong>Solution O(nlogn):</strong></p>

<p>First, sort array A; similar values will then be next to each other. Finally, just count the number of distinct pairs in adjacent cells.</p>

<pre><code>The number of distinct values — O(nlogn).
def distinct(A):
        n = len(A)
        A.sort()
        result = 1
        for k in xrange(1, n):
                if A[k] != A[k - 1]: result += 1
        return result
</code></pre>

<blockquote>
<p>The time complexity is O(n log n), in view of the sorting time.</p>
</blockquote>

<h4 id = "1.6.1">
1. Distinct
</h4>

<blockquote>
<p>Compute number of distinct values in an array.</p>
</blockquote>

<ul>
<li>将list保存为set 即可</li>
<li>Test score 100%</li>
<li>也可以排序，然后对不同数进行计数，如exercise那样</li>
</ul>

<pre><code>def solution(A):
    # write your code in Python 2.7
    Aset = set(A)
    return len(Aset)
</code></pre>

<h4 id = "1.6.2">
2. Triangle
</h4>

<blockquote>
<p>Determine whether a triangle can be built from a given set of edges.
<a href="https://codesays.com/2014/solution-to-triangle-by-codility/">https://codesays.com/2014/solution-to-triangle-by-codility/</a></p>

<p>On one hand, there is no false triangular. Since the array is sorted, we already know A[index] &lt; = A[index+1] &lt;= A[index+2], and all values are positive. A[index] &lt;= A[index+2], so it must be true that A[index] &lt; A[index+1] + A[index+2]. Similarly, A[index+1] &lt; A[index] + A[index+2]. Finally, we ONLY need to check <strong>A[index]+A[index+1] &gt; A[index+2]</strong> to confirm the existence of triangular.</p>

<p>On the other hand, there is no underreporting triangular. If the inequality can hold for three out-of-order elements, to say, A[index]+A[index+m] &gt; A[index+n], where n&gt;m&gt;1. Again, because the array is sorted, we must have A[index] &lt; = A[index+m-1] and A[index+m+1] &lt;= A[index + n]. So A[index+m-1] +A[index+m] &gt;= A[index]+A[index+m] &gt; A[index+n] &gt;= A[index+m+1]. After simplification, A[index+m-1] +A[index+m] &gt; A[index+m+1]. In other words, if we have any inequality holding for out-of-order elements, we MUST have AT LEAST an inequality holding for three consecutive elements.</p>
</blockquote>

<pre><code>def solution(A):
    # write your code in Python 2.7
    length = len(A)
    if length &lt; 3:
        return 0
    A.sort()
    for idx in xrange(0,length -2):
        if A[idx]+A[idx + 1] &gt; A[idx + 2]:
            return 1
    return 0
</code></pre>

<h4 id = "1.6.3">
3. MaxProductOfThree
</h4>

<blockquote>
<p>Maximize A[P] * A[Q] * A[R] for any triplet (P, Q, R).</p>
</blockquote>

<h5 id="solution-1:7cad0631f6a7aabc2988c4789e25cd49">solution 1</h5>

<ul>
<li>O(N)</li>
<li>Test score  100% OJ test is O(N * log(N))</li>
<li>考虑到有负数存在， 故乘积最大的三个数，会出现在两种情况：

<ul>
<li>三个数均是正数，且是三个最大的数</li>
<li>两个负数和一个正数，最大正数和最小的两个负数</li>
</ul></li>
</ul>

<pre><code>def solution(A):
    ma1, ma2, ma3 = -1000, -1000, -1000
    mi1, mi2 = 1000, 1000
    for elem in A:
        if elem &gt; ma1:
            ma1, ma2, ma3 = elem, ma1, ma2
        elif elem &gt; ma2:
            ma2, ma3 = elem, ma2
        elif elem &gt; ma3:
            ma3 = elem

        if elem &lt; mi1:
            mi1,mi2 = elem, mi1
        elif elem &lt; mi2:
            mi2 = elem
    a, b = ma1*ma2*ma3, ma1*mi1*mi2
    return a if a &gt; b else b
</code></pre>

<h5 id="solution-2:7cad0631f6a7aabc2988c4789e25cd49">solution 2</h5>

<p><strong>note:</strong></p>

<ul>
<li>just need return the value of the max product,</li>
<li>基于解法一，我们可以先排序，然后直接取，不需要每个比较，相对来说，时间成本稍大</li>

<li><p>so, we can just consider the first or last teiplet, after sort</p></li>

<li><p>Detected time complexity: O(N * log(N))</p></li>
</ul>

<pre><code>def solution(A):
    A.sort()
    return max(A[0]*A[1]*A[-1], A[-1]*A[-2]*A[-3])

</code></pre>

<h4 id = "1.6.4">
4. NumberOfDiscIntersections
</h4>

<blockquote>
<p>We draw N discs on a plane. The discs are numbered from 0 to N − 1. A zero-indexed array A of N non-negative integers, specifying the radiuses of the discs, is given. The J-th disc is drawn with its center at (J, 0) and radius A[J].</p>

<p>We say that the J-th disc and K-th disc intersect if J ≠ K and the J-th and K-th discs have at least one common point (assuming that the discs contain their borders).</p>

<p>The figure below shows discs drawn for N = 6 and A as follows:</p>
</blockquote>

<pre><code>      A[0] = 1
      A[1] = 5
      A[2] = 2
      A[3] = 1
      A[4] = 4
      A[5] = 0
</code></pre>

<p><img src="https://codility-frontend-prod.s3.amazonaws.com/media/task_img/number_of_disc_intersections/media/auto/mpaecfada7c1e52a7b01b04916c859b15d.png" alt="" /></p>

<blockquote>
<p>There are eleven (unordered) pairs of discs that intersect, namely:</p>
</blockquote>

<ul>
<li>discs 1 and 4 intersect, and both intersect with all the other discs;</li>
<li>disc 2 also intersects with discs 0 and 3.</li>
</ul>

<p><strong>problem:</strong></p>

<blockquote>
<p>Compute the number of intersections in a sequence of discs.</p>

<p>given an array A describing N discs as explained above, returns the number of (unordered) pairs of intersecting discs. The function should return −1 if the number of intersecting pairs exceeds 10,000,000.</p>
</blockquote>

<p><strong>Assume that:</strong></p>

<ul>
<li>N is an integer within the range [0..100,000];</li>
<li>each element of array A is an integer within the range [0..2,147,483,647].</li>
</ul>

<p><strong>Complexity:</strong></p>

<ul>
<li>expected worst-case time complexity is O(N*log(N));</li>
<li>expected worst-case space complexity is O(N).</li>
</ul>

<p><strong>思路：</strong></p>

<ul>
<li><a href="http://blog.csdn.net/dear0607/article/details/42671621">参考csdn</a></li>
<li><a href="http://stackoverflow.com/questions/4801242/algorithm-to-calculate-number-of-intersecting-discs#">stackoverflow</a></li>
</ul>

<blockquote>
<p>initially we calculate all start and end points of discs. After go by all line and check count of discs inside current point. If in current point started some discs and intersection count increased by: already active distsc multiplied by count of started in current point (result += t * dps[i]) and count of intersections of started(result += dps[i] * (dps[i] - 1) / 2) eg. if started 5 discs in one of point it will increased by(1+2+3+4+5 intersections, or 5*(5-1) / 2[sum formula]).</p>
</blockquote>

<ul>
<li>构造成区间，[i-A[i],i+A[i]]

<ul>
<li>e.g. A ＝ ［1，5，2，1，4，0］</li>
<li>=&gt; [－1,1],[-4,6],[0,4],[2,4],[0,8],[5,5]</li>
</ul></li>
<li>因为我们圆的中心位置在［0，len(A)],e.g. 在上例中 [0,5], 所以起点数组dps计算［0，i-A[i]］的范围，故有max(0,i-A[i])</li>
<li>终点数组不要超过每个圆心的最大值，即小于len（A）－1， 故有min（length－1，i+A［i］）</li>
</ul>

<h5 id="sloution-100:7cad0631f6a7aabc2988c4789e25cd49">sloution:[100%]</h5>

<pre><code>def solution(A):
    result = 0
    length = len(A)
    dps = [0]*length
    dpe = [0]*length
    for i in xrange(length):
        dps[max(0, i-A[i])] += 1
        dpe[min(length-1, i+A[i])] += 1
    tmp = 0
    for i in xrange(length):
        if dps[i] &gt; 0:
            result += tmp*dps[i]
            result += dps[i] * (dps[i] - 1)/2
            if result &gt; 10000000:
                return -1
            tmp += dps[i]
        tmp -= dpe[i]
    return result
</code></pre>

</div>


  <footer class="container">
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="https://tmhm.github.io/2016/09/04/prefix-sums--codility/" title="prefix sums--codility">
      Previous
    </a>
    

    
    <a class="next" href="https://tmhm.github.io/2016/09/17/stacks-and-queues--codility/" title="stacks and queues--codility">
      Next
    </a>
    

  


</div>

  <div class="container comments">
  <h2>Comments</h2>
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//wells217-github-io.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  
<a href="https://tmhm.github.io/license">license</a>


  
<script src="/js/jquery.min.js" type="text/javascript"></script>
<script>
        $(window).on("scroll",function(e){
        if($('body').scrollTop() >= 200  ){
                $('#gotop').show();


        }else{
                $('#gotop').hide();
        }
});
</script>
<div class="ctrolPanel" id="gotop" style="display:none;width:50px;height:50px;position:fixed;right:25px;top:85%;overflow:hidden;z-index:10000;">
  <a href="#"><img title="back to top" src="/top2.png" /></a>
</div>

</div>

  <div class="container credits">
  
<div class="container footline">
  
  code with <i class='fa fa-heart'></i>


</div>


  
<div class="container copyright">
  
  &copy; 2017 Well.

 &nbsp; &nbsp;
</div>


</div>

</footer>

    </main>
    
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//wells217-github-io.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="https://tmhm.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


    
  </body>
</html>

